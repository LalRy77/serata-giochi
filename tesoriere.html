<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Tesoriere</title>
</head>
<body>
  <h1>ðŸ’³ Tesoriere</h1>
  <div id="da-approvare"></div>

  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const room = urlParams.get('room');
    const socket = io('https://serata-giochi.onrender.com');
    socket.emit('join-tesoriere', room);

    socket.on('waiting-player', nome => {
      const div = document.createElement('div');
      div.innerHTML = nome + ' <button onclick="approva(\'' + nome + '\')">Approva</button>';
      document.getElementById('da-approvare').appendChild(div);
    });

    function approva(nome) {
      socket.emit('approve-player', { room, nome });
    }
  </script>
</body>
</html>