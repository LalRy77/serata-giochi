
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Giocatore</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>üïπ Entra nella Stanza</h1>
    <input id="nome" placeholder="Inserisci il tuo nome" class="grande">
    <button onclick="entra()" class="grande">ENTRA</button>
    <div id="attesa" class="hidden"><p>‚è≥ In attesa di approvazione...</p></div>
  </div>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const room = urlParams.get('room');
    const socket = io();

    function entra() {
      const nome = document.getElementById('nome').value.trim();
      if (!nome) return;
      socket.emit('join-player', { room, nome });
    }

    socket.on('approved', () => {
      document.getElementById('attesa').innerHTML = "<h2>‚úÖ Sei stato approvato!</h2>";
    });

    socket.on('waiting-player', () => {
      document.getElementById('attesa').classList.remove('hidden');
    });

    socket.on('badge', msg => {
      document.body.innerHTML = '<div class="badge">' + msg + '</div>';
    });
  </script>
</body>
</html>
